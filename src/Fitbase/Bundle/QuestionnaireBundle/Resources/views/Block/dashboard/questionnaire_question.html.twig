{% if question is defined and question %}
    <div id="statistic_user_{{ question.id }}">
        <svg id="pieChartSVG">
            <defs>
                <filter id='pieChartInsetShadow'>
                    <feOffset dx='0' dy='0'/>
                    <feGaussianBlur stdDeviation='3' result='offset-blur'/>
                    <feComposite operator='out' in='SourceGraphic' in2='offset-blur' result='inverse'/>
                    <feFlood flood-color='black' flood-opacity='1' result='color'/>
                    <feComposite operator='in' in='color' in2='inverse' result='shadow'/>
                    <feComposite operator='over' in='shadow' in2='SourceGraphic'/>
                </filter>
                <filter id="pieChartDropShadow">
                    <feGaussianBlur in="SourceAlpha" stdDeviation="3" result="blur"/>
                    <feOffset in="blur" dx="0" dy="3" result="offsetBlur"/>
                    <feMerge>
                        <feMergeNode/>
                        <feMergeNode in="SourceGraphic"/>
                    </feMerge>
                </filter>
            </defs>
        </svg>
    </div>

    <script type="text/javascript">
        $(function () {

            function color(index) {
                var colors = ["#a2d049", "#d7ecaf", "#397bc9", "#7eaae0", "#bfd6f3", "#7b6888", "#6b486b", "#a05d56", "#d0743c", "#ff8c00"];
                return colors[index];
            }

            var data = [];
            {% if statistics is defined and statistics %}
                {% for key,statistic in statistics %}
                    data.push({
                        'index': {{ loop.index }},
                        'color': color({{ loop.index }}-1),
                        'label': '{{ key|raw }} ({{ statistic }})',
                        'value': '{{ statistic }}'
                    });
                {% endfor %}
            var statisticQuestionPie = $('#statistic_user_{{ question.id }}');
            if (statisticQuestionPie.length) {
                statisticQuestionPie.pie(data, {
                    duration: 1500,
                    delay: 500
                });
            }
            {% endif %}
        });
    </script>
{% endif %}
